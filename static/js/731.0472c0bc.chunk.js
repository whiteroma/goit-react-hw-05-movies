"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[731],{731:function(n,e,r){r.r(e),r.d(e,{default:function(){return v}});var t,o,a,i,l=r(413),s=r(982),c=r(885),u=r(791),d=r(259),p=r(87),g=r(689),h=r(85),m=(r(462),r(168)),f=r(444),x=f.ZP.div(t||(t=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 0 16px;\n\n  & > ul {\n    display: flex;\n    flex-wrap: wrap;\n    list-style: none;\n    margin-left: -15px;\n\n    & > li {\n      display: flex;\n      flex-direction: column;\n      margin-left: 15px;\n      margin-top: 15px;\n      justify-content: flex-start;\n      flex-basis: calc((100% - 60px) / 4);\n      border-bottom: 1px solid orangered;\n      transition: transform 3s ease-in-out;\n      :hover {\n        color: orangered;\n      }\n\n      :nth-last-child(-n + 4) {\n        margin-bottom: 20px;\n      }\n    }\n  }\n\n  & > form {\n    display: flex;\n    align-items: center;\n\n    & > span {\n      font-weight: bold;\n      color: red;\n    }\n  }\n"]))),y=f.ZP.input(o||(o=(0,m.Z)(["\n  width: 250px;\n  height: 20px;\n  font-size: 15px;\n  margin-right: 3px;\n  border-radius: 4px;\n\n  &:focus-within {\n    outline-color: orangered !important;\n  }\n\n  &:focus-visible {\n    outline-color: orangered !important;\n  }\n\n  &:focus {\n    outline-color: orangered !important;\n  }\n\n  &:active {\n    outline-color: orangered !important;\n  }\n"]))),b=f.ZP.input(a||(a=(0,m.Z)(["\n  padding: 4px 8px;\n  background-color: orangered;\n  color: white;\n  border-radius: 4px;\n  border-color: orangered;\n  margin-left: 5px;\n  font-weight: bold;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n"]))),w=(0,f.ZP)(p.rU)(i||(i=(0,m.Z)(["\n  text-align: center;\n  text-decoration: none;\n  color: black;\n  :hover {\n    color: orangered;\n    transform: scale(1.05);\n  }\n\n  & > img {\n    max-width: 100%;\n    max-height: auto;\n    border-radius: 10px;\n    box-shadow: 0px 0px 4px 2px orangered;\n  }\n\n  & > h4 {\n    padding: 15px;\n    margin: 0 auto;\n  }\n"]))),j=r(184);function v(){var n=(0,g.TH)(),e=(0,p.lr)(""),r=(0,c.Z)(e,2),t=r[0],o=r[1],a=(0,u.useState)([]),i=(0,c.Z)(a,2),m=i[0],f=i[1],v=t.get("query"),S=(0,d.cI)({defaultValues:{SearchQuery:v}}),_=S.register,Z=S.handleSubmit,k=S.formState.errors;return console.log("query",t),console.log("searchQuery",v),(0,u.useEffect)((function(){v&&fetch("\n    https://api.themoviedb.org/3/search/movie?api_key=bfc78256055c27ed6be30c1c43cfe9c3&language=en-US&query=".concat(v,"&page=1&include_adult=false")).then((function(n){return n.ok?n.json():Promise.reject(new Error("Change your search query"))})).then((function(n){return console.log(n),0===n.results?h.Am.error("Something went wrong. Try changing your search query"):f((0,s.Z)(n.results))})).catch((function(n){return h.Am.error(n.message)}))}),[v]),console.log(m),(0,j.jsxs)(x,{children:[(0,j.jsxs)("form",{onSubmit:Z((function(n){return o(""!==n?{query:n.SearchQuery}:"")})),children:[(0,j.jsx)(y,(0,l.Z)({name:"SearchQuery"},_("SearchQuery",{required:!0}))),k.SearchQuery&&(0,j.jsx)("span",{children:"Field is required"}),(0,j.jsx)(b,{type:"submit",value:"Search"})]}),(0,j.jsx)("ul",{children:m.map((function(e){var r=e.poster_path,t=e.id,o=e.title,a=e.name,i=e.release_date,l=e.first_air_date,s=new Date(i).getFullYear(),c=new Date(l).getFullYear();return(0,j.jsx)("li",{children:(0,j.jsxs)(w,{to:"".concat(t),state:{from:n},children:[(0,j.jsx)("img",{src:r?"https://image.tmdb.org/t/p/w220_and_h330_face".concat(r):"https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie-1-3.jpg",alt:null!==o&&void 0!==o?o:a}),(0,j.jsxs)("h4",{children:[null!==a&&void 0!==a?a:o," (",s||c,")"]})]})},t)}))}),(0,j.jsx)(u.Suspense,{children:(0,j.jsx)(g.j3,{})})]})}}}]);
//# sourceMappingURL=731.0472c0bc.chunk.js.map